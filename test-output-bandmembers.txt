
> zamr-frontend@0.1.0 test
> jest BandMembers.test --no-coverage

  console.error
    Warning: React does not recognize the `startContent` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `startcontent` instead. If you accidentally passed it from a parent component, remove it from the DOM element.
        at button
        at children (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)\grupos\[bandId]\_components\__tests__\BandMembers.test.tsx:22:5)
        at div
        at children (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)\grupos\[bandId]\_components\__tests__\BandMembers.test.tsx:19:18)
        at div
        at children (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)\grupos\[bandId]\_components\__tests__\BandMembers.test.tsx:17:12)
        at bandId (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)\grupos\[bandId]\_components\BandMembers.tsx:35:31)
        at QueryClientProvider (C:\Users\leovp\Programming\adorador\adorador-frontend\node_modules\@tanstack\react-query\src\QueryClientProvider.tsx:30:3)
        at children (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)\grupos\[bandId]\_components\__tests__\BandMembers.test.tsx:150:22)

    [0m [90m 303 |[39m       mockCheckUserStatus[33m.[39mmockReturnValue([36mtrue[39m)[33m;[39m
     [90m 304 |[39m
    [31m[1m>[22m[39m[90m 305 |[39m       render([33m<[39m[33mBandMembers[39m bandId[33m=[39m{[35m100[39m} [33m/[39m[33m>[39m[33m,[39m { wrapper[33m:[39m createWrapper() })[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 306 |[39m
     [90m 307 |[39m       [36mconst[39m inviteButton [33m=[39m screen[33m.[39mgetByText([32m'Invitar miembro'[39m)[33m;[39m
     [90m 308 |[39m       expect(inviteButton)[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateProperty$1 (node_modules/react-dom/cjs/react-dom.development.js:3757:7)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom.development.js:3803:21)
      at validateProperties$2 (node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22232:17)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26632:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26607:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)../../../../../grupos/[bandId]/_components/__tests__/BandMembers.test.tsx:305:13)

  console.error
    Warning: React does not recognize the `isIconOnly` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `isicononly` instead. If you accidentally passed it from a parent component, remove it from the DOM element.
        at button
        at children (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)\grupos\[bandId]\_components\__tests__\BandMembers.test.tsx:22:5)
        at div
        at div
        at member (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)\grupos\[bandId]\_components\BandMembers.tsx:167:3)
        at div
        at div
        at children (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)\grupos\[bandId]\_components\__tests__\BandMembers.test.tsx:18:16)
        at div
        at children (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)\grupos\[bandId]\_components\__tests__\BandMembers.test.tsx:17:12)
        at bandId (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)\grupos\[bandId]\_components\BandMembers.tsx:35:31)
        at QueryClientProvider (C:\Users\leovp\Programming\adorador\adorador-frontend\node_modules\@tanstack\react-query\src\QueryClientProvider.tsx:30:3)
        at children (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)\grupos\[bandId]\_components\__tests__\BandMembers.test.tsx:150:22)

    [0m [90m 303 |[39m       mockCheckUserStatus[33m.[39mmockReturnValue([36mtrue[39m)[33m;[39m
     [90m 304 |[39m
    [31m[1m>[22m[39m[90m 305 |[39m       render([33m<[39m[33mBandMembers[39m bandId[33m=[39m{[35m100[39m} [33m/[39m[33m>[39m[33m,[39m { wrapper[33m:[39m createWrapper() })[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 306 |[39m
     [90m 307 |[39m       [36mconst[39m inviteButton [33m=[39m screen[33m.[39mgetByText([32m'Invitar miembro'[39m)[33m;[39m
     [90m 308 |[39m       expect(inviteButton)[33m.[39mtoBeInTheDocument()[33m;[39m[0m

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateProperty$1 (node_modules/react-dom/cjs/react-dom.development.js:3757:7)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom.development.js:3803:21)
      at validateProperties$2 (node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22232:17)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26632:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26607:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)../../../../../grupos/[bandId]/_components/__tests__/BandMembers.test.tsx:305:13)

FAIL src/app/(public)/grupos/[bandId]/_components/__tests__/BandMembers.test.tsx
  BandMembers
    Loading State
      â”œÃ¹ should display spinner while loading (73 ms)
    Error State
      Î“ÃªÃœ should display error message when fetch fails (17 ms)
    Success State - Members Display
      Î“ÃªÃœ should render member list correctly (41 ms)
      â”œÃ¹ should display member roles correctly (24 ms)
      Î“ÃªÃœ should show admin badge for admin members (26 ms)
      Î“ÃªÃœ should show event manager badge for event managers (16 ms)
      Î“ÃªÃœ should mark current user with "Tâ”œâ•‘" chip (16 ms)
      Î“ÃªÃœ should handle single member correctly (10 ms)
      Î“ÃªÃœ should show empty state when no members (7 ms)
    Admin Features
      Î“ÃªÃœ should show "Invitar miembro" button when user is admin (171 ms)
      Î“ÃªÃœ should not show "Invitar miembro" button when user is not admin (12 ms)
      Î“ÃªÃœ should open InviteMemberModal when clicking invite button (50 ms)
      Î“ÃªÃœ should show edit button for each member when user is admin (31 ms)
      Î“ÃªÃœ should not show edit buttons when user is not admin (10 ms)
      Î“ÃªÃœ should open EditMemberModal when clicking edit button (34 ms)
    WebSocket Integration
      Î“ÃªÃœ should use useBandMembers hook with correct bandId (12 ms)
      Î“ÃªÃœ should re-fetch members when bandId changes (13 ms)
      Î“ÃªÃœ should handle real-time member updates via WebSocket (24 ms)
    User Interface
      Î“ÃªÃœ should display UsersIcon in header (14 ms)
      â”œÃ¹ should apply correct styling to card (13 ms)
      Î“ÃªÃœ should render member cards with hover effect (12 ms)
    Accessibility
      Î“ÃªÃœ should have proper aria-label for edit buttons (14 ms)
      Î“ÃªÃœ should maintain proper heading hierarchy (20 ms)
    Edge Cases
      Î“ÃªÃœ should handle member with null email (11 ms)
      Î“ÃªÃœ should handle member without admin or event manager roles (8 ms)
      Î“ÃªÃœ should handle very long member names gracefully (6 ms)

  Î“Ã¹Ã… BandMembers Î“Ã‡â•‘ Loading State Î“Ã‡â•‘ should display spinner while loading

    TestingLibraryElementError: Unable to find a label with the text of: Loading

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <div>
              Loading...
            </div>
          </div>
        </div>
      </div>
    </body>

      175 |
      176 |       // NextUI Spinner usa aria-label="Loading"
    > 177 |       expect(screen.getByLabelText('Loading')).toBeInTheDocument();
          |                     ^
      178 |     });
      179 |   });
      180 |

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at getAllByLabelText (node_modules/@testing-library/dom/dist/queries/label-text.js:111:38)
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByLabelText (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)../../../../../grupos/[bandId]/_components/__tests__/BandMembers.test.tsx:177:21)

  Î“Ã¹Ã… BandMembers Î“Ã‡â•‘ Success State - Members Display Î“Ã‡â•‘ should display member roles correctly

    TestingLibraryElementError: Unable to find an element with the text: Guitarrista. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    <body>
      <div>
        <div>
          <div>
            <div
              class="flex items-center gap-3"
            >
              <div
                class="flex h-10 w-10 flex-shrink-0 items-center justify-center rounded-lg bg-brand-purple-600"
              >
                <svg
                  aria-hidden="true"
                  class="h-5 w-5 text-white"
                  fill="currentColor"
                  focusable="false"
                  role="presentation"
                  viewBox="0 0 24 24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"
                  />
                </svg>
              </div>
              <div>
                <h2
                  class="text-xl font-bold text-slate-900"
                >
                  Miembros del grupo
                </h2>
                <p
                  class="text-sm text-slate-500"
                >
                  3
                   
                  miembros
                </p>
              </div>
            </div>
          </div>
          <div>
            <div
              class="space-y-2"
            >
              <div
                class="flex items-center justify-between rounded-lg border border-gray-200 p-3 transition-colors hover:bg-gray-50"
              >
                <div
                  class="flex items-center gap-3"
                >
                  <div>
                    Test User
                  </div>
                  <div
                    class="flex gap-1"
                  >
                    <span>
                      <span
                        class="flex items-center gap-1"
                      >
                        <svg
                          class="h-3 w-3"
                          fill="currentColor"
                          viewBox="0 0 24 24"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            clip-rule="evenodd"
                            d="M12 2.25c-2.429 0-4.817.178-7.152.521C2.87 3.061 1.5 4.795 1.5 6.741v6.018c0 1.946 1.37 3.68 3.348 3.97.877.129 1.761.234 2.652.316V21a.75.75 0 0 0 .75.75h8.25a.75.75 0 0 0 .75-.75v-3.955c.89-.082 1.775-.187 2.652-.316 1.978-.29 3.348-2.024 3.348-3.97V6.741c0-1.947-1.37-3.68-3.348-3.97A49.145 49.145 0 0 0 12 2.25ZM8.25 8.625a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Zm7.5 0a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25ZM12 13.125a1.125 1.125 0 1 0 0-2.25 1.125 1.125 0 0 0 0 2.25Z"
                            fill-rule="evenodd"
                          />
                        </svg>
                         Admin
                      </span>
                    </span>
                  </div>
                </div>
                <div
                  class="flex items-center gap-2"
                >
                  <span>
                    Tâ”œâ•‘
                  </span>
                </div>
              </div>
              <div
                class="flex items-center justify-between rounded-lg border border-gray-200 p-3 transition-colors hover:bg-gray-50"
              >
                <div
                  class="flex items-center gap-3"
                >
                  <div>
                    Jane Smith
                  </div>
                  <div
                    class="flex gap-1"
                  >
                    <span>
                      <span
                        class="flex items-center gap-1"
                      >
                        <svg
                          class="h-3 w-3"
                          fill="currentColor"
                          viewBox="0 0 24 24"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            d="M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"
                          />
                          <path
                            clip-rule="evenodd"
                            d="M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3a.75.75 0 0 1 1.5 0v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z"
                            fill-rule="evenodd"
                          />
                        </svg>
                         Eventos
                      </span>
                    </span>
                  </div>
                </div>
                <div
                  class="flex items-center gap-2"
                />
              </div>
              <div
                class="flex items-center justify-between rounded-lg border border-gray-200 p-3 transition-colors hover:bg-gray-50"
              >
                <div
                  class="flex items-center gap-3"
                >
                  <div>
                    Bob Johnson
                  </div>
                  <div
                    class="flex gap-1"
                  />
                </div>
                <div
                  class="flex items-center gap-2"
                />
              </div>
            </div>
          </div>
        </div>
        <div
          data-testid="invite-modal"
        >
          Invite Modal
        </div>
      </div>
    </body>

      229 |       render(<BandMembers bandId={100} />, { wrapper: createWrapper() });
      230 |
    > 231 |       expect(screen.getByText('Guitarrista')).toBeInTheDocument();
          |                     ^
      232 |       expect(screen.getByText('Vocalista')).toBeInTheDocument();
      233 |       expect(screen.getByText('Baterista')).toBeInTheDocument();
      234 |     });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.getByText (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)../../../../../grupos/[bandId]/_components/__tests__/BandMembers.test.tsx:231:21)

  Î“Ã¹Ã… BandMembers Î“Ã‡â•‘ User Interface Î“Ã‡â•‘ should apply correct styling to card

    expect(received).toBeInTheDocument()

    received value must be an HTMLElement or an SVGElement.
    Received has value: null

      477 |         .getByText('Miembros del grupo')
      478 |         .closest('[class*="rounded"]');
    > 479 |       expect(card).toBeInTheDocument();
          |                    ^
      480 |     });
      481 |
      482 |     it('should render member cards with hover effect', () => {

      at __EXTERNAL_MATCHER_TRAP__ (node_modules/expect/build/index.js:2240:22)
      at Object.throwingMatcher [as toBeInTheDocument] (node_modules/expect/build/index.js:2241:6)
      at Object.toBeInTheDocument (C:\Users\leovp\Programming\adorador\adorador-frontend\src\app\(public)../../../../../grupos/[bandId]/_components/__tests__/BandMembers.test.tsx:479:20)

Test Suites: 1 failed, 1 total
Tests:       3 failed, 23 passed, 26 total
Snapshots:   0 total
Time:        4.01 s
Ran all test suites matching BandMembers.test.
